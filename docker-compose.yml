# Docker Compose конфигурация для запуска frontend-приложения
# Использование: docker-compose up --build
#
# Настройка backend:
# По умолчанию: localhost:8090
# Изменить: BACKEND_URL=http://air-task-back:8090 docker-compose up -d

version: '3.8'

services:
  # Сервис frontend-приложения
  air-task-front:
    # Собираем образ из Dockerfile в текущей директории
    build:
      context: .
      dockerfile: Dockerfile
    # Перезапуск контейнера при падении
    restart: unless-stopped
    # Проброс портов: внешний:внутренний
    ports:
      - "8080:80"
    # Адрес backend-сервера (используется в nginx.conf)
    # Для работы в Docker нужно изменить localhost на host.docker.internal
    # или на имя сервиса backend в docker-compose
    # Имя контейнера для удобства
    container_name: air-task-front
